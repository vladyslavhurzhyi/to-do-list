{"mappings":"YAAO,ICyCCA,EDzCKC,EAAUC,SAASC,cAAc,SACjCC,EAAUF,SAASC,cAAc,SEDxCE,EAAoB,UAEnB,SAASC,EAAYN,GAC1B,IAAMO,EAAmBC,IAEzBD,EAAiBE,KAAKT,GACtBU,EAASH,E,CAGJ,SAASC,IACd,IAAMR,EAAOW,aAAaC,QAAQP,GAElC,OAAOL,EAAOa,KAAKC,MAAMd,GAAQ,E,CAG5B,SAASU,EAASV,GACvBW,aAAaI,QAAQV,EAAmBQ,KAAKG,UAAUhB,G,CChBlD,SAASiB,EAAWC,GACzB,MAAO,CAAEA,QAAOC,GAAIC,KAAKC,MAAOC,SAAS,E,CCDpC,SAASC,EAAavB,GAC3B,OAAOA,EACJwB,KACC,SAAAC,G,IAAGP,EAAKO,EAALP,MAAOC,EAAEM,EAAFN,GAAIG,EAAOG,EAAPH,Q,MAAc,mBAEdI,OADZJ,EAAU,UAAY,GACvB,eACuEI,OAD1DP,EAAG,oFAC6DO,OAANR,EAAM,2E,IAI/ES,KAAK,G,CHoCV,SAASC,EAAUC,GACjBzB,EAAQ0B,mBAAmB,YAAaD,GAEpB3B,SAAS6B,iBAAiB,aAClCC,SAAQ,SAAAC,GAClBA,EAAKC,iBAAiB,UAAU,WAC9BD,EAAKE,YAAYC,UAAUC,OAAO,O,OA5CxCpC,EAAQiC,iBAAiB,UAAU,SAAAI,GACjCA,EAAMC,iBAEN,IAIMC,EAFFvC,EAAQwC,SADVC,QAAWxB,MAGYyB,OAEzB,GAAKH,EAAL,CAGA,IAAMxC,EAAOiB,EAAWuB,GACxBlC,EAAYN,GACZ4B,EAAUL,EAAa,CAACvB,KACxBC,EAAQ2C,OALN,C,IAQJxC,EAAQ8B,iBAAiB,SAAS,SAAAI,GAEhC,GAA6B,WAAzBA,EAAMO,OAAOC,QAAsB,CAGrC,IAAMC,EAAQT,EAAMO,OAAOG,QAAQ,SAC7BC,EAAWF,EAAMG,QAAQ/B,GAC/B4B,EAAMI,SAGNzC,EAFaF,IACW4C,QAAO,SAAA3B,G,OAAKA,EAAFN,KAAgBkC,OAAOJ,E,SAO3DrB,EAAUL,EADJvB,EAAOQ,MAEb8C,QAAQC,IAAIvD,E","sources":["src/refs/index.js","src/index.js","src/service/index.js","src/utils/index.js","src/markup/index.js"],"sourcesContent":["export const formRef = document.querySelector('.form');\nexport const listRef = document.querySelector('.list');\n","import 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './css/style.css';\r\n\r\nimport { formRef, listRef } from './refs';\r\nimport { saveMessage, getMessage, saveData } from './service';\r\nimport { createData } from './utils';\r\nimport { createMarkup } from './markup';\r\n\r\nformRef.addEventListener('submit', event => {\r\n  event.preventDefault();\r\n\r\n  const {\r\n    message: { value },\r\n  } = formRef.elements;\r\n\r\n  const inputValue = value.trim();\r\n\r\n  if (!inputValue) {\r\n    return;\r\n  }\r\n  const data = createData(inputValue);\r\n  saveMessage(data);\r\n  addMarkup(createMarkup([data]));\r\n  formRef.reset();\r\n});\r\n\r\nlistRef.addEventListener('click', event => {\r\n  //console.log(event.target.tagName);\r\n  if (event.target.tagName === 'BUTTON') {\r\n    //console.log(event.target.parentNode.dataset.id);\r\n    //console.log(event.target.closest(\".item\").dataset.id);\r\n    const liRef = event.target.closest('.item');\r\n    const dataAttr = liRef.dataset.id;\r\n    liRef.remove();\r\n    const data = getMessage();\r\n    const filterData = data.filter(({ id }) => id !== Number(dataAttr));\r\n    saveData(filterData);\r\n  }\r\n});\r\n\r\nfunction init() {\r\n  const data = getMessage();\r\n  addMarkup(createMarkup(data));\r\n  console.log(data);\r\n}\r\n\r\nfunction addMarkup(markup) {\r\n  listRef.insertAdjacentHTML('beforeend', markup);\r\n\r\n  const checkboxRef = document.querySelectorAll('.checkbox');\r\n  checkboxRef.forEach(item => {\r\n    item.addEventListener('change', () => {\r\n      item.nextSibling.classList.toggle('done');\r\n    });\r\n  });\r\n}\r\n\r\ninit();\r\n","const LOCAL_STORAGE_KEY = \"message\";\n\nexport function saveMessage(data) {\n  const dataLocalStorage = getMessage();\n\n  dataLocalStorage.push(data);\n  saveData(dataLocalStorage);\n}\n\nexport function getMessage() {\n  const data = localStorage.getItem(LOCAL_STORAGE_KEY);\n\n  return data ? JSON.parse(data) : [];\n}\n\nexport function saveData(data) {\n  localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(data));\n}\n","export function createData(value) {\n  return { value, id: Date.now(), checked: false };\n}\n","export function createMarkup(data) {\n  return data\n    .map(\n      ({ value, id, checked }) => `<li class=\"item ${\n        checked ? 'checked' : ''\n      }\" data-id=\"${id}\">\n  <input type=\"checkbox\" class=\"btndelete checkbox\"></input><p class=\"text\">${value}</p>\n  <button type=\"button\" class=\"button btndelete\">x</button>\n</li>`\n    )\n    .join('');\n}\n"],"names":["data","$93ff005584519462$export$b05b9f8fa6b90f25","document","querySelector","$93ff005584519462$export$ca20f9e8518347b3","$78b29cd543d5bd1b$var$LOCAL_STORAGE_KEY","$78b29cd543d5bd1b$export$2073b0425697f5d8","dataLocalStorage","$78b29cd543d5bd1b$export$2e51780da3c3a61","push","$78b29cd543d5bd1b$export$15d8621db9a88346","localStorage","getItem","JSON","parse","setItem","stringify","$7db44d89e56f69aa$export$773d79863eecfeab","value","id","Date","now","checked","$f4cffbe26cb774dc$export$24783e9f3a24abe4","map","param","concat","join","$b8f9b7833fa37166$var$addMarkup","markup","insertAdjacentHTML","querySelectorAll","forEach","item","addEventListener","nextSibling","classList","toggle","event","preventDefault","inputValue","elements","message","trim","reset","target","tagName","liRef","closest","dataAttr","dataset","remove","filter","Number","console","log"],"version":3,"file":"index.663090c5.js.map"}