{"mappings":"AAAO,MAAMA,EAAUC,SAASC,cAAc,SACjCC,EAAUF,SAASC,cAAc,SCCvC,SAASE,EAAYC,GAC1B,MAAMC,EAAmBC,IAEzBD,EAAiBE,KAAKH,GACtBI,EAASH,E,CAGJ,SAASC,IACd,MAAMF,EAAOK,aAAaC,QAVF,WAYxB,OAAON,EAAOO,KAAKC,MAAMR,GAAQ,E,CAG5B,SAASI,EAASJ,GACvBK,aAAaI,QAhBW,UAgBgBF,KAAKG,UAAUV,G,CChBlD,SAASW,EAAWC,GACzB,MAAO,C,MAAEA,EAAOC,GAAIC,KAAKC,MAAOC,SAAS,E,CCDpC,SAASC,EAAajB,GAC3B,OAAOA,EACJkB,KACC,EAACN,MAAEA,EAAKC,GAAEA,EAAEG,QAAEA,KAAc,mBAC1BA,EAAU,UAAY,gBACVH,oFAC0DD,8EAIzEO,KAAK,G,CCoCV,SAASC,EAAUC,GACjBvB,EAAQwB,mBAAmB,YAAaD,E,CAvC1C1B,EAAQ4B,iBAAiB,UAAUC,IACjCA,EAAMC,iBAEN,MACEC,SAASd,MAAEA,IACTjB,EAAQgC,SAENC,EAAahB,EAAMiB,OAEzB,IAAKD,EACH,OAEF,MAAM5B,EAAOW,EAAWiB,GACxB7B,EAAYC,GACZoB,EAAUH,EAAa,CAACjB,KACxBL,EAAQmC,OAAO,IAGjBhC,EAAQyB,iBAAiB,SAASC,IAEhC,GAA6B,WAAzBA,EAAMO,OAAOC,QAAsB,CAGrC,MAAMC,EAAQT,EAAMO,OAAOG,QAAQ,SAC7BC,EAAWF,EAAMG,QAAQvB,GAC/BoB,EAAMI,SAGNjC,EAFaF,IACWoC,QAAO,EAACzB,GAAEA,KAASA,IAAO0B,OAAOJ,K,KAK7D,WACE,MAAMnC,EAAOE,IACbkB,EAAUH,EAAajB,IACvBwC,QAAQC,IAAIzC,E,CAOd0C,GAEA5C,EAAQyB,iBAAiB,UAAUC,IACjC,GAAIA,EAAMO,OAAOY,UAAUC,SAAS,YAAa,CAC/CpB,EAAMO,OAAOc,mBAAmBF,UAAUG,OAAO,QAIjD,IAAIC,EAFUvB,EAAMO,OAAOG,QAAQ,SAEhBE,QAAQvB,GAC3B,MAAMmC,EAAUzC,KAAKC,MAAMH,aAAaC,QAAQ,YAElC0C,EAAQ9B,KAAI,CAAC+B,EAAMC,KAC/B,GAAID,EAAKpC,IAAMkC,EAAQ,CACrBC,EAAQE,GAAOlC,SAAU,EAEzBZ,EADgB4C,EAAQV,QAAO,EAACtB,QAAEA,MAA0B,IAAZA,I","sources":["src/refs/index.js","src/service/index.js","src/utils/index.js","src/markup/index.js","src/index.js"],"sourcesContent":["export const formRef = document.querySelector('.form');\nexport const listRef = document.querySelector('.list');\n","const LOCAL_STORAGE_KEY = \"message\";\n\nexport function saveMessage(data) {\n  const dataLocalStorage = getMessage();\n\n  dataLocalStorage.push(data);\n  saveData(dataLocalStorage);\n}\n\nexport function getMessage() {\n  const data = localStorage.getItem(LOCAL_STORAGE_KEY);\n\n  return data ? JSON.parse(data) : [];\n}\n\nexport function saveData(data) {\n  localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(data));\n}\n","export function createData(value) {\n  return { value, id: Date.now(), checked: false };\n}\n","export function createMarkup(data) {\n  return data\n    .map(\n      ({ value, id, checked }) => `<li class=\"item ${\n        checked ? 'checked' : ''\n      }\" data-id=\"${id}\">\n  <input type=\"checkbox\" class=\"btndelete checkbox\"></input><p class=\"text\">${value}</p>\n  <button type=\"button\" class=\"button btndelete\">x</button>\n</li>`\n    )\n    .join('');\n}\n","import 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './css/style.css';\r\n\r\nimport { formRef, listRef } from './refs';\r\nimport { saveMessage, getMessage, saveData } from './service';\r\nimport { createData } from './utils';\r\nimport { createMarkup } from './markup';\r\n\r\nformRef.addEventListener('submit', event => {\r\n  event.preventDefault();\r\n\r\n  const {\r\n    message: { value },\r\n  } = formRef.elements;\r\n\r\n  const inputValue = value.trim();\r\n\r\n  if (!inputValue) {\r\n    return;\r\n  }\r\n  const data = createData(inputValue);\r\n  saveMessage(data);\r\n  addMarkup(createMarkup([data]));\r\n  formRef.reset();\r\n});\r\n\r\nlistRef.addEventListener('click', event => {\r\n  //console.log(event.target.tagName);\r\n  if (event.target.tagName === 'BUTTON') {\r\n    //console.log(event.target.parentNode.dataset.id);\r\n    //console.log(event.target.closest(\".item\").dataset.id);\r\n    const liRef = event.target.closest('.item');\r\n    const dataAttr = liRef.dataset.id;\r\n    liRef.remove();\r\n    const data = getMessage();\r\n    const filterData = data.filter(({ id }) => id !== Number(dataAttr));\r\n    saveData(filterData);\r\n  }\r\n});\r\n\r\nfunction init() {\r\n  const data = getMessage();\r\n  addMarkup(createMarkup(data));\r\n  console.log(data);\r\n}\r\n\r\nfunction addMarkup(markup) {\r\n  listRef.insertAdjacentHTML('beforeend', markup);\r\n}\r\n\r\ninit();\r\n\r\nlistRef.addEventListener('change', event => {\r\n  if (event.target.classList.contains('checkbox')) {\r\n    event.target.nextElementSibling.classList.toggle('done');\r\n\r\n    const liRef = event.target.closest('.item');\r\n\r\n    let idTask = liRef.dataset.id;\r\n    const dataOld = JSON.parse(localStorage.getItem('message'));\r\n\r\n    const index = dataOld.map((item, index) => {\r\n      if (item.id == idTask) {\r\n        dataOld[index].checked = true;\r\n        const newData = dataOld.filter(({ checked }) => checked === false);\r\n        saveData(newData);\r\n      }\r\n    });\r\n  }\r\n});\r\n"],"names":["$9a5e2862dbc05f22$export$b05b9f8fa6b90f25","document","querySelector","$9a5e2862dbc05f22$export$ca20f9e8518347b3","$a1dcd071a833d67e$export$2073b0425697f5d8","data","dataLocalStorage","$a1dcd071a833d67e$export$2e51780da3c3a61","push","$a1dcd071a833d67e$export$15d8621db9a88346","localStorage","getItem","JSON","parse","setItem","stringify","$c41c2b98c77a39c9$export$773d79863eecfeab","value","id","Date","now","checked","$e789dbe274f5185c$export$24783e9f3a24abe4","map","join","$1f0dc3b9307be026$var$addMarkup","markup","insertAdjacentHTML","addEventListener","event","preventDefault","message","elements","inputValue","trim","reset","target","tagName","liRef","closest","dataAttr","dataset","remove","filter","Number","console","log","$1f0dc3b9307be026$var$init","classList","contains","nextElementSibling","toggle","idTask","dataOld","item","index"],"version":3,"file":"index.08494c6f.js.map"}