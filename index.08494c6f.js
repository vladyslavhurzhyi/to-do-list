const e=document.querySelector(".form"),t=document.querySelector(".list");function n(e){const t=c();t.push(e),s(t)}function c(){const e=localStorage.getItem("message");return e?JSON.parse(e):[]}function s(e){localStorage.setItem("message",JSON.stringify(e))}function o(e){return{value:e,id:Date.now(),checked:!1}}function a(e){return e.map((({value:e,id:t,checked:n})=>`<li class="item ${n?"checked":""}" data-id="${t}">\n  <input type="checkbox" class="btndelete checkbox"></input><p class="text">${e}</p>\n  <button type="button" class="button btndelete">x</button>\n</li>`)).join("")}function i(e){t.insertAdjacentHTML("beforeend",e)}e.addEventListener("submit",(t=>{t.preventDefault();const{message:{value:c}}=e.elements,s=c.trim();if(!s)return;const r=o(s);n(r),i(a([r])),e.reset()})),t.addEventListener("click",(e=>{if("BUTTON"===e.target.tagName){const t=e.target.closest(".item"),n=t.dataset.id;t.remove();s(c().filter((({id:e})=>e!==Number(n))))}})),function(){const e=c();i(a(e)),console.log(e)}(),t.addEventListener("change",(e=>{if(e.target.classList.contains("checkbox")){e.target.nextElementSibling.classList.toggle("done");let t=e.target.closest(".item").dataset.id;const n=JSON.parse(localStorage.getItem("message"));n.map(((e,c)=>{if(e.id==t){n[c].checked=!0;s(n.filter((({checked:e})=>!1===e)))}}))}}));
//# sourceMappingURL=index.08494c6f.js.map
